# «152-ФЗ как код»

Open source-набор инструментов для описания обработки ПДн в YAML и генерации артефактов: реестр, шаблоны согласий и поручений, карта потоков, отчёт по рискам. Проект развивается инженером DevOps/DevSecOps с сайта [run-as-daemon.ru](https://run-as-daemon.ru).

## Возможности
- YAML-DSL для операторов, субъектов, категорий ПДн, целей, правовых оснований, операций, сроков хранения и мер защиты;
- генерация DOCX/ODT-реестра и шаблонов согласий/DPA;
- диаграммы потоков в формате Mermaid/PlantUML;
- DPIA-лайт оценка рисков + человекочитаемые рекомендации;
- CLI на Typer и минимальная веб-морда на FastAPI.

## Быстрый старт
```bash
pip install 152fz-compliance-as-code
pd152 init-template --profile online-shop --output pd-config.yaml
pd152 validate --config pd-config.yaml
pd152 generate-all --config pd-config.yaml --output out/
```

## Пример YAML (фрагмент)
```yaml
operator:
  name: "ООО «Пример-Маркет»"
  inn: "1234567890"

data_subjects:
  - id: customers
    name: "Покупатели"
processing_activities:
  - id: order_processing
    name: "Оформление заказов"
    subjects: ["customers"]
    purposes: ["исполнение договора"]
    legal_basis: ["договор"]
```
Больше примеров в `src/pd152_compliance_as_code/yaml_schema/examples/`.

## Web UI
- `/` — описание проекта;
- `/wizard` — мастер по шагам (оператор → субъекты → процессы → меры);
- `/export` — скачивание сгенерированных артефактов.

Данные в веб-версии по умолчанию не сохраняются на диск. Для боевого использования добавьте аутентификацию, шифрование и изоляцию.

## CI/CD
- `pd152 validate` возвращает ненулевой код при ошибках и подходит для пайплайнов;
- GitHub Actions `ci.yml` и `security.yml` демонстрируют типовую автоматизацию.

## Услуги и кастомизация
Если нужен аудит ПДн, подготовка YAML-описаний и внедрение «152-ФЗ как код», свяжитесь через [run-as-daemon.ru](https://run-as-daemon.ru).

## Отказ от ответственности
Инструмент — технический, не юридический. Шаблоны и оценки рисков требуют проверки юристом и специалистом по ИБ. Не отправляйте реальные ПДн в сторонние AI/LLM-сервисы без законных оснований и информирования субъектов.
